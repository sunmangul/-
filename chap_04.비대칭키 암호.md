# <p align="center">🔐비대칭키 암호</p>
※ 비대칭키의 특징, RSA 알고리즘, ElGamal, 하이브리드 암호 시스템에 집중
## 🔒 비대칭키 암호
### ✅  키 배송 문제
#### 1) 개요
- 대칭키 암호는 키 배송 문제를 안고 있음
  - 키를 보내지 않으면 Bob(수신자)이 복호화를 못함
  - 키를 보내면 Eve(도청자)가 복호화 가능
- 키 배송 문제의 해결법
  - 키를 사전에 공유에 의한 해결
  - 키배포 센터에 의한 해결(온라인 키 분배)
  - Diffie-Hellman 키 교환에 의한 해결
  - 공개키 암호(비대칭키 암호)에 의한 해결
#### 2) 키의 사전 공유에 의한 해결
- 키 관리기관(TA, trusted authority)이 사전에 임의의 사용자들에게 비밀경로를 통하여 임의키를 선택 후 전달
- TA와 네트워크 상의 모든 사용자 사이에 안전한 통로 필요
- 사용자가 많은 경우에 TA는 물론 사용자들도 많은 키를 관리해야하는 문제가 있음
- 사용자 n명이 있다면 각 사용자는 n-1가지 키를 관리해야 함
- 사용자 n명이 있다면 TA는 n(n-1)/2가지 키를 관리해야함(복잡, 많은 비용)
#### 3) 키배포 센터(KDC)에 의한 해결(온라인 키 분배)
- 개요
  - 암호 통신이 필요해질 때 통신용 키를 제 3자에 의뢰해서 개인과 센터 사이에서만 키를 사전에 공유
  - TA가 네트워크 상의 모든 사용자와 필요할 때마다 키를 공유
  - 회사에 키배포 센터의 역할을 하는 컴퓨터를 지정
  - n명의 사원이 있으면 n개의 키를 컴퓨터 데이터 베이스에 저장
- 단계별 순서
  1. Alice는 키배포 센터에 "Bob과 통신하고 싶다."고 신청
  2. 키배포 센터는 의사난수 생성기를 사용하여 세션키(K)를 만듦(이번 통신만을 위한 일시적인 키)
  3. 키배포 센터는 데이터베이스에서 Alice의 키(KA)와 밥의 키(KB)를 꺼냄
  4. 키배포 센터는 Alice의 키를 사용하여 세션키를 암호화(C_{A} = E_{KA}(K))해서 Alice에게 전달
  5. 키배포 센터는 Bob의 키를 사용하여 세션키를 암호화(C_{B} = E{KB}(K))해서 Bob에세 전달
  6. 앨리스는 키배포 센터에서 온 세션키를 복호화(K = D_{KA}(C_{A}))해서 세션키를 획득
  7. Alice는 세션키를 사용하여 Bob에게 보낼 메일을 암호화(C = E_{K}(M))해서 Bob에게 전달
  8. Bob은 키배포 센터에서 온 세션키를 복호화(K = D_{KB}(C_{B}))해서 세션키를 획득
  9. Bob은 세션키를 사용하여 Alice에게 온 암호문을 복호화(M = D_{K}(C))함
  10. Alice와 Bob은 세션키를 삭제
#### 4) Diffie-Hellman 키 교환(키 합의)에 의한 해결
- 개요
  - 1976년 공개키 암호방식을 최초로 제안한 휘트필드 디피와 마틴 헬먼이 발명한 알고리즘
  - 두 사용자 간에 공통의 암호화키를 안전하게 공유할 수 있는 방법 제시
  - 많은 키 분배 방식에 관한 연구의 기본(최초의 비밀키 교환 프로토콜)
  - 양쪽 통신주체가 KDC 없이 대칭 세션키르 생성
  - 대칭키를 만들기 전에 양쪽은 두개의 수 p와 g를 선택
    - p는 300자리가 넘는 십진수(1024bit)
    - p와 g는 Eve에게 알려져도 문제 없음
  - 키 교환이라는 이름이 붙어있지만 실제로는 키를 교환하는 것이 아닌 공유할 키를 계산하여 만듦
  - 유한체상의 이산대수 문제(DLP)를 풀기 어렵다는 사실이 Diffie-Hellman 키 교환을 뒷받침 함
- 타원 곡선 Diffie-Hellman 키 교환(ECDH)
  - 이산대수 문제를 매우 풀기 어렵다는 사실ㅇ들 이용해서 키 교환을 실현
  - 이산대수 문제를 타원곡선상의 이산대수 문제로 대체한 키 교환 알고리즘도 있음
  - 키 교환 방법에 있어서 큰 흐름은 같지만, 사용되는 문제에 조금 차이가 남
  - 그냥 Diffie-Hellman 키 교환보다 짧은 키 길이로 높은 보안성
- 절차
  - 